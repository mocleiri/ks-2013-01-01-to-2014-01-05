
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://student.kuali.org/xsd/dictionary-extension http://student.kuali.org/xsd/dictionary-extension/dictionary-extension.xsd">	
    <import resource="classpath:ks-courseInfo-dictionary-context.xml" />
 
    <bean id="courseInfo.passFail" parent="courseInfo.passFail-parent">
        <property name="hide" value="true" />
    </bean>
 
    <bean id="courseInfo.courseTitle" parent="courseInfo.courseTitle-parent">
        <property name="name" value="courseTitle" />
        <property name="minOccurs" value="1" />
        <property name="maxLength" value="60"/>
    </bean>
  
    <bean id="courseInfo.courseNumberSuffix-parent" abstract="true"
	parent="cluIdentifierInfo.suffixCode-parent">
        <property name="name" value="courseNumberSuffix" />
        <property name="minLength" value="3" />
        <property name="maxLength" value="4" />
        <property name="validChars" ref="upperCase" />
        <property name="caseConstraint">
            <bean parent="caseConstraint">
                <property name="operator" value="EQUALS" />
                <property name="fieldPath" value="state" />
                <property name="caseSensitive" value="false" />
                <property name="whenConstraint">
                    <list>
                        <bean parent="whenConstraint">
                            <property name="values">
                                <list>
                                    <value>DRAFT</value>
                                </list>
                            </property>
                            <property name="constraint">
				<!--Copy all the properties from above adding minOccurs = 1 -->
                                <bean parent="cluIdentifierInfo.suffixCode-parent">
                                    <property name="minLength" value="3" />
                                    <property name="maxLength" value="4" />
                                    <property name="validChars" ref="upperCase" />
                                    <property name="caseConstraint">
                                        <bean parent="caseConstraintStateEquals">
                                            <property name="fieldPath" value="proposal/workflowNode" />
                                            <property name="whenConstraint">
                                                <list>
                                                    <bean parent="whenConstraint">
                                                        <property name="values">
                                                            <list>
                                                                <value>Division Review</value>
                                                                <value>College Review</value>
                                                                <value>Senate Review</value>
                                                                <value>Publication Review</value>
                                                            </list>
                                                        </property>
                                                        <property name="constraint">
                                                            <bean parent="cluIdentifierInfo.suffixCode-parent">
                                                                <property name="minOccurs" value="1" />
                                                                <property name="minLength" value="3" />
                                                                <property name="maxLength" value="4" />
                                                                <property name="validChars" ref="upperCase" />
                                                            </bean>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </property>
                                </bean>
                            </property>
                        </bean>
                        <bean parent="whenConstraint">
                            <property name="values">
                                <list>
                                    <value>SUBMITTED</value>
                                    <value>APPROVED</value>
                                    <value>ACTIVE</value>
                                    <value>RETIRED</value>
                                </list>
                            </property>
                            <property name="constraint">
				<!--Copy all the properties from above adding minOccurs = 1 -->
                                <bean parent="cluIdentifierInfo.suffixCode-parent">
                                    <property name="minOccurs" value="1" />
                                    <property name="minLength" value="3" />
                                    <property name="maxLength" value="4" />
                                    <property name="validChars" ref="upperCase" />
             <!--<property name="customValidatorClass" value="org.kuali.student.lum.course.service.utils.RepeatableCreditValidator"/> -->
                                </bean>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>
  
  
  
  
  
    <bean id="courseInfo.code-parent" abstract="true" parent="cluIdentifierInfo.code-parent">
        <property name="name" value="code" />
        <property name="minLength" value="7" />
        <property name="maxLength" value="8" />
        <property name="caseConstraint">
            <bean parent="caseConstraint">
                <property name="operator" value="EQUALS"/>
                <property name="fieldPath" value="state"/>
                <property name="caseSensitive" value="false"/>
                <property name="whenConstraint">
                    <list>
                        <bean parent="whenConstraint">
                            <property name="values">
                                <list>
                                    <value>SUBMITTED</value>
                                    <value>APPROVED</value>
                                    <value>ACTIVE</value>
                                    <value>RETIRED</value>
                                </list>
                            </property>
                            <property name="constraint">
        <!--Copy all the properties from above adding minOccurs = 1-->
                                <bean parent="cluIdentifierInfo.code-parent">
                                    <property name="minOccurs" value="1" />
                                    <property name="minLength" value="7" />
                                    <property name="maxLength" value="8" />
                                </bean>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>
    

    <bean id="courseInfo.campusLocations-parent" abstract="true" parent="cluInfo.campusLocations-parent">
        <property name="name" value="campusLocations" />
        <property name="caseConstraint">
            <bean parent="caseConstraint">
                <property name="operator" value="EQUALS"/>
                <property name="fieldPath" value="state"/>
                <property name="caseSensitive" value="false"/>
                <property name="whenConstraint">
                    <list>
                        <bean parent="whenConstraint">
                            <property name="values">
                                <list>
                                    <value>DRAFT</value>
                                </list>
                            </property>
                            <property name="constraint">
       
        <!--Copy all the properties from above adding minOccurs = 1-->
                                <bean parent="cluInfo.campusLocations-parent">
                                    <property name="caseConstraint">
                                        <bean parent="caseConstraintStateEquals">
                                            <property name="fieldPath" value="proposal/workflowNode"/>
                                            <property name="whenConstraint">
                                                <list>
                                                    <bean parent="whenConstraint">
                                                        <property name="values">
                                                            <list>
                                                                <value>PreRoute</value>
                                                                <value>Document Organization Review</value>
                                                                <value>Publication Decision Review</value>
                                                                <value>Department Review</value>
                                                                <value>Division Review</value>
                                                                <value>College Review</value>                                                                
                                                                <value>Senate Review</value>
                                                                <value>Publication Review</value>
                                                            </list>
                                                        </property>
                                                        <property name="constraint">
                                                            <bean parent="cluInfo.campusLocations-parent">
                                                                <property name="minOccurs" value="1" />
                                                            </bean>
                                                        </property>
                                                    </bean>
                                                </list>
                                            </property>
                                        </bean>
                                    </property>
                                </bean>
                            </property>
                        </bean>
                        <bean parent="whenConstraint">
                            <property name="values">
                                <list>
                                    <value>SUBMITTED</value>
                                    <value>APPROVED</value>
                                    <value>ACTIVE</value>
                                    <value>RETIRED</value>
                                </list>
                            </property>
                            <property name="constraint">
        <!--Copy all the properties from above adding minOccurs = 1-->
                                <bean parent="cluInfo.campusLocations-parent">
                                    <property name="minOccurs" value="1" />
                                </bean>
                            </property>
                        </bean>
                    </list>
                </property>
            </bean>
        </property>
    </bean>
    
    
    
</beans>