<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2005-2012 The Kuali Foundation

    Licensed under the Educational Community License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.opensource.org/licenses/ecl2.php

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/util
    http://www.springframework.org/schema/util/spring-util-3.0.xsd">

    <bean id="SearchView" parent="Uif-KsaFormView" p:footer.render="false">
        <property name="title" value="Account Overview"/>
        <property name="headerText" value="Accounts"/>
        <property name="formClass" value="com.sigmasys.kuali.ksa.krad.form.SearchForm"/>
        <property name="entryPageId" value="HomePage"/>
        <property name="navigation">
            <bean parent="Uif-KsaPageNavigation">
                <property name="items">
                    <list merge="true">
                        <!-- TODO Advanced Search -->
                        <bean parent="Uif-NavigationActionLink" p:navigateToPageId="AdvancedSearch"
                              p:actionLabel="Advanced Search"/>
                    </list>
                </property>
            </bean>
        </property>
        <property name="items">
            <list merge="true">
                <bean parent="Uif-Page" p:id="HomePage" p:title="Home">
                    <property name="headerText" value="Account Home"/>
                    <property name="items">
                        <list>
                            <ref bean="homeQuickOptions"/>
                        </list>
                    </property>
                </bean>
                <!-- transaction grouped by roll-up type -->
                <!-- transaction details for a specific roll-up type -->
                <bean parent="Uif-Page" p:id="AccountOVTransactionsRollupDetailPage" p:title="Roll-up Transactions">
                    <property name="headerText" value="Roll-up Transactions"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Link" p:linkText="Account Transactions" p:target="_self"
                                  p:href="searchView?methodToCall=get&amp;viewId=SearchView&amp;pageId=AccountOVTransactionsPage&amp;userId=@{account.id}"/>
                            <ref bean="accountOVTransactionsByRollupSection"/>
                        </list>
                    </property>
                </bean>
                <!-- Any transaction details -->
                <bean parent="Uif-Page" p:id="AccountOVTransactionDetailPage" p:title="Account Detail">
                    <property name="headerText" value="Accounts"/>
                    <property name="items">
                        <list>
                            <bean parent="Uif-Link" p:linkText="Account Transactions" p:target="_self"
                                  p:href="searchView?methodToCall=get&amp;viewId=SearchView&amp;pageId=AccountOVTransactionsPage&amp;userId=@{account.id}"/>
                            <ref bean="accountOVTransactionDetailSection"/>
                            <ref bean="auditInformationSection"/>
                            <ref bean="accountOVTransactionsControlSection"/>
                        </list>
                    </property>
                </bean>
                <!-- a list of transaction allocation -->
                <bean parent="Uif-Page" p:id="AccountOVTransactionAllocationPage" p:title="Allocations">
                    <property name="headerText" value="Allocations"/>
                    <property name="items">
                        <list>
                            <ref bean="accountOVTransactionAllocationSection"/>
                        </list>
                    </property>
                </bean>
                <!-- single transaction allocation -->
                <bean parent="Uif-Page" p:id="AccountOVTransactionAllocationDetailPage" p:title="Allocation Detail">
                    <property name="headerText" value="Allocation Details"/>
                    <property name="items">
                        <list>
                            <ref bean="accountOVTransactionAllocationSection"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>


    <!--
    ********************************************************************************************************************
                                             Home page Quick Options section
    A quick menu of options with links to other pages, or to other views and pages
    the map request, the view, the page   p:instructionalText="Options"  This is the initial "Landing" page from Login
    ********************************************************************************************************************
    -->
    <!-- A quick menu of options with links to other pages -->
    <bean id="homeQuickOptions" parent="Uif-VerticalBoxSection"
          p:layoutManager.orientation="VERTICAL"
          p:title="Quick Menu"
          p:instructionalText="This is the KSA home page. Here you would see a dashboard of actions available to the logged in user.">
        <property name="disclosure.render" value="false"/>
        <property name="items">
            <list>
            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                   Account Overview by Roll-up type section
    A detail of any roll-up or ungrouped transaction. These are individual fields
    ********************************************************************************************************************
    -->
    <bean id="accountOVTransactionsByRollupSection" parent="Uif-Disclosure-TableCollectionSection"
          p:layoutManager.numberOfColumns="5"
          p:title="@{account.id}"
          p:instructionalText="The following table is a list of transactions categorized in the @{selectedRollupType} Roll-up"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true"
          p:width="85%">
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.krad.model.TransactionModel"/>
        <property name="propertyName" value="byRollUpTransactionModelList"/>
        <property name="readOnly" value="true"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="creationDate"
                      p:label="Creation Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="effectiveDate"
                      p:label="Effective Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="rollup.description"
                      p:label="Description">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                              p:style="resize:none;"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="formattedAmount"
                      p:label="Balance"
                      p:maxLength="21"
                      p:align="right">
                    <property name="readOnly" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="22"/>
                    </property>
                </bean>

                <bean parent="Uif-LinkField" p:linkText="Details" p:target="_self"
                      p:href="searchView?viewId=SearchView&amp;pageId=AccountOVTransactionDetailPage&amp;methodToCall=get&amp;id=@{#line.id}&amp;userId=@{account.id}"/>
            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                   Account Overview Detail section
    A detail of any roll-up or ungrouped transaction. These are individual fields
    Title is set to the roll-up type or the ungrouped transaction label
    ********************************************************************************************************************
    -->
    <bean id="accountOVTransactionDetailSection" parent="Uif-GridSection"
          p:title="@{account.id}"
          p:instructionalText="@{selectedTransactionType} transaction detail">
        <property name="layoutManager">
            <bean parent="Uif-GridLayoutBase" p:numberOfColumns="4"/>
        </property>
        <property name="disclosure.render" value="false"/>
        <property name="readOnly" value="@{ovDetailReadWriteState}"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.id"
                      p:label="ID"
                      p:maxLength="19"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="20"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.accountId"
                      p:label="Account ID"
                      p:maxLength="45"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="46"/>
                    </property>
                </bean>
                <!-- Rollup in a Transaction could be null transasctionModel.rollup.rollupDesc -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.rollupDesc"
                      p:label="Roll-up"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                              p:style="resize:none;"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.rollupTag"
                      p:label="Tags"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.debitPriority"
                      p:label="Priority"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>

                <!-- Dates -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.effectiveDate"
                      p:label="Effective Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.recognitionDate"
                      p:label="Recognition Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.defermentExpirationDate"
                      p:label="Expiration Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.paymentClearDate"
                      p:label="Clear Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <!-- listed as Type -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionTypeDesc"
                      p:label="Description"
                      p:maxLength="25"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="26"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.statementText"
                      p:label="Statement Text"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                              p:style="resize:none;"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionTypeId"
                      p:label="Type ID"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionTypeSubCode"
                      p:label="Type Sub-Code"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>

                <!-- Amount fields -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionAmount"
                      p:label="Amount"
                      p:maxLength="21"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="22"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.internal"
                      p:label="Internal"
                      p:defaultValue="false"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionAmountAllocated"
                      p:label="Amount Allocated"
                      p:maxLength="21"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="22"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionAmountAllocatedLocked"
                      p:label="Amount Allocated (and locked)"
                      p:maxLength="21"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="22"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.transactionNativeAmount"
                      p:label="Native Amount"
                      p:maxLength="21"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="22"/>
                    </property>
                </bean>


                <!-- Document and Memo  plus native currency code moved here -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.documentId"
                      p:label="Document ID"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.currencyCode"
                      p:label="Native Currency Code"
                      p:maxLength="4"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="5"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="nextMemoId"
                      p:label="Next Memo ID"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="memo" p:label="Memo"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextAreaControl" p:rows="5" p:cols="40"
                              p:style="resize:none;"/>
                    </property>
                </bean>

                <!-- Deferred, Rules Payment and General Ledger -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.refundable"
                      p:label="Refundable"
                      p:defaultValue="false"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.refundRule"

                      p:label="Refund Rule" p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>

                <!-- General Ledger -->
                <bean parent="Uif-InputField" p:propertyName="transactionModel.generalLedgerTypeId"
                      p:label="Type ID"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.entryGenerated"
                      p:label="Entry Generated"
                      p:defaultValue="false"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.glOverRidden" p:label="Overridden"
                      p:defaultValue="false"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.originationDate" p:label="Origination Date"
                      p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="transactionModel.externalId"
                      p:label="External ID"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                   Audit Information section
    Audit information for the transaction detail
    ********************************************************************************************************************
    -->
    <bean id="auditInformationSection" parent="Uif-Disclosure-VerticalBoxSection"
          p:title="Audit Information"
          p:instructionalText="The following table is a list of allocations"
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true">
        <property name="readOnly" value="true"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="creatorId" p:label="Responsible Entity"
                      p:maxLength="20" p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="21"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="creationDate" p:label="Date" p:maxLength="10">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-DateControl" p:size="11"/>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                   Transaction Detail controls section
    Transaction detail controls
    ********************************************************************************************************************
    -->
    <bean id="accountOVTransactionsControlSection" parent="Uif-HorizontalBoxSection">
        <property name="title" value=""/>
        <property name="items">
            <list>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="done"
                      p:actionLabel="Done"
                      p:onClickScript="writeHiddenToForm(&quot;actionParameters[userId]&quot;, &quot;@{account.id}&quot;);">
                </bean>
                <!-- TODO Really in the middle of a page -->
                <!--                <bean parent="Uif-NavigationActionLink"
              p:navigateToPageId="AccountOVTransactionAllocationPage" p:actionLabel="View Allocations"/>-->
                <bean parent="Uif-Link" p:linkText="View Allocations" p:target="_self"
                      p:href="searchView?methodToCall=get&amp;viewId=SearchView&amp;pageId=AccountOVTransactionAllocationPage&amp;userId=@{account.id}"/>

            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                      Account Overview Allocation List table
    This is the list of allocations
    ********************************************************************************************************************
    -->
    <bean id="accountOVTransactionAllocationSection" parent="Uif-Disclosure-TableCollectionSection"
          p:layoutManager.numberOfColumns="5"
          p:title="Allocations for @{account.id}"
          p:instructionalText="Select an item to view detailed information."
          p:disclosure.render="false"
          p:progressiveRenderViaAJAX="true"
          p:width="85%">
        <property name="readOnly" value="true"/>
        <property name="collectionObjectClass" value="com.sigmasys.kuali.ksa.model.Allocation"/>
        <property name="propertyName" value="allocationList"/>
        <property name="layoutManager.sequencePropertyName" value="id"/>
        <property name="layoutManager.richTable.render" value="false"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:label="Allocation ID" p:propertyName="id">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17" p:maxLength="16"/>
                    </property>
                </bean>
                <!-- TODO Payer ID and Paid ID are not part of Allocation -->
                <bean parent="Uif-InputField" p:label="Payer ID" p:propertyName="payerId">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17" p:maxLength="16"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:label="Paid ID" p:propertyName="paidId">
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17" p:maxLength="16"/>
                    </property>
                </bean>
                <bean parent="Uif-LinkField" p:linkText="View" p:target="_self"
                      p:href="searchView?methodToCall=get&amp;viewId=SearchView&amp;pageId=AccountOVTransactionAllocationDetailPage&amp;id=@{#line.id}&amp;userId=@{account.id}"/>
                <bean parent="Uif-LinkField" p:linkText="Edit" p:target="_self"
                      p:href="searchView?methodToCall=get&amp;viewId=SearchView&amp;pageId=AccountOVTransactionAllocationDetailPage&amp;id=@{#line.id}&amp;userId=@{account.id}"/>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="lock"
                      p:actionLabel="Done"
                      p:onClickScript="writeHiddenToForm(&quot;actionParameters[userId]&quot;, &quot;@{account.id}&quot;);writeHiddenToForm(&quot;actionParameters[id]&quot;, &quot;@{#line.id}&quot;);">
                </bean>
            </list>
        </property>
    </bean>

    <!--
    ********************************************************************************************************************
                                   Account Overview Allocation Details section
    Provides the detail for allocations of a student
    If the user checks to lock an allocation then force a memo entry (no cancel) with activityName
    like "Memo Creation for allocation 0945750203"
    ********************************************************************************************************************
    -->
    <bean id="accountOVTransactionAllocationDetailsSection" parent="Uif-GridSection"
          p:title="@{account.id}"
          p:instructionalText="@{selectedTransactionType} transaction detail">
        <property name="layoutManager">
            <bean parent="Uif-GridLayoutBase" p:numberOfColumns="2"/>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="allocationId"
                      p:label="Allocation ID"
                      p:maxLength="16">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="payerTransactionId"
                      p:label="Payer Transaction ID"
                      p:maxLength="16">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="paidTransactionId"
                      p:label="Paid Transaction ID"
                      p:maxLength="16">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="allocationAccountId"
                      p:label="Account ID"
                      p:maxLength="16">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-TextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="allocationLocked"
                      p:label="Locked"
                      p:defaultValue="false"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CheckboxControl"/>
                    </property>
                </bean>
                <bean parent="Uif-InputField" p:propertyName="allocationAmount"
                      p:label="Amount"
                      p:maxLength="16"
                      p:fieldLabel.renderColon="true">
                    <property name="bindingInfo.bindToForm" value="true"/>
                    <property name="control">
                        <bean parent="Uif-CurrencyTextControl" p:size="17"/>
                    </property>
                </bean>
                <bean parent="Uif-SecondaryActionButton-Small" p:methodToCall="clearAllocations"
                      p:actionLabel="Clear Allocation"
                      p:onClickScript="writeHiddenToForm(&quot;actionParameters[userId]&quot;, &quot;@{account.id}&quot;);">
                </bean>
            </list>
        </property>
    </bean>

    <!-- nothing beyond here for now -->

</beans>