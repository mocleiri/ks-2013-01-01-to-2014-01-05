<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <!--
        The Manage Time Slot FormView.
    -->
    <bean id="TimeSlot-View" parent="KS-Uif-FormView"
             p:id="timeSlotView"
             p:entryPageId="timeSlotPage"
             p:viewHelperServiceClass="org.kuali.student.enrollment.class1.timeslot.service.impl.TimeSlotViewHelperServiceImpl"
             p:formClass="org.kuali.student.enrollment.class1.timeslot.form.TimeSlotForm" >

             <property name="headerText" value="Time Slots" />
             <property name="header.cssClasses">
                 <list merge="true">
                     <value>uif-viewHeader</value>
                 </list>
             </property>

             <!-- Shows up in HTML so devs can find the code -->
             <property name="viewSourceFile" value="TimeSlotView.xml" />

             <property name="authorizer">
                 <bean class="org.kuali.student.enrollment.main.view.KsViewAuthorizerBase"/>
             </property>

             <property name="footer">
                 <bean parent="Uif-FooterBase"/>
             </property>

             <property name="additionalScriptFiles">
                 <list merge="true">
                     <value>themes/ksboot/scripts/toolbar.js</value>
                 </list>
             </property>

             <property name="breadcrumbOptions.homewardPathBreadcrumbs">
                 <list>
                     <ref bean="KS-HomewardPathBreadcrumbs-Home"/>
                     <ref bean="KS-HomewardPathBreadcrumbs-Enrollment"/>
                 </list>
             </property>

             <property name="items">
                 <list>
                     <ref bean="TimeSlot-Page" />
                 </list>
             </property>
             <property name="dialogs">
                 <list>
                 </list>
             </property>
         </bean>

    <bean id="TimeSlot-Page" parent="KS-Uif-Page" p:disclosure.render="false" p:id="timeSlotPage">
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxSection">
                    <property name="items">
                        <list>
                            <ref bean="TimeSlotTypeSelect-Section" />
                            <ref bean="TimeSlotToolBar-Section" />
                            <ref bean="TimeSlotSearchResults-Section"  />
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="TimeSlotTypeSelect-Section" parent="Uif-HorizontalBoxSection">
        <property name="items">
            <list>
                <!-- The multi-select drop-down -->
                <bean parent="Uif-VerticalBoxGroup">
                    <property name="items">
                        <list>
                            <bean parent="Uif-InputField" p:propertyName="termTypeSelections"  p:width="auto"
                                  p:label="Select Term Type(s) To Edit" p:labelPlacement="TOP">
                                <property name="control">
                                    <bean parent="Uif-MultiSelectControl" p:size="4" p:width="10em"/>
                                </property>
                                <property name="optionsFinder">
                                    <bean class="org.kuali.student.enrollment.class1.timeslot.keyvalue.TermSlotTypeValues" />
                                </property>
                            </bean>
                            <bean parent="Uif-Message" p:messageText="Use 'ctrl' or 'shift' to select multiple" />
                        </list>
                    </property>
                </bean>
                <!--The submit button -->
                <bean parent="Uif-PrimaryActionButton"
                    p:performClientSideValidation="false" p:actionLabel="Show Time Slots" p:methodToCall="show" p:style="margin-top:20px;"/>
            </list>
        </property>
    </bean>

    <bean id="TimeSlotToolBar-Section" parent="KS-Uif-HorizontalBoxSection-ToolbarSection">
        <property name="items">
            <list>
                <bean parent="KS-Uif-HorizontalBoxGroup-ToolbarGroup" p:noLeftBorder="true">
                    <property name="items">
                        <list>
                            <bean id="TimeSlot-ToolBar-Add-TimeSlot" parent="TimeSlot-ToolBar-Add-Button-parent" p:methodToCall="createTimeSlot" />
                            <bean id="TimeSlot-ToolBar-Delete-TimeSlot" parent="TimeSlot-ToolBar-Delete-Button-parent"  p:methodToCall="deleteTimeSlots" />
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="TimeSlotSearchResults-Section" parent="Uif-VerticalBoxSection" >
        <property name="items">
            <list>
               <bean parent="Uif-Message" p:messageText="Time Slots For: Some type, Some other type." />
               <ref bean="TimeSlotSearchResults-TableCollectionSection" />
            </list>
        </property>
    </bean>

    <bean id="TimeSlotSearchResults-TableCollectionSection" parent="KS-Uif-TableCollectionSection-WithActionSeperator" >
        <property name="collectionObjectClass" value="org.kuali.student.enrollment.class1.timeslot.dto.TimeSlotWrapper" />
        <property name="propertyName" value="timeSlotResults" />
        <property name="collectionLookup">
            <bean parent="Uif-CollectionQuickFinder" p:quickfinderAction.render="false" />
        </property>
        <property name="layoutManager.renderSequenceField" value="false" />
        <property name="layoutManager.applyDefaultCellWidths" value="false" />
        <property name="layoutManager.applyAlternatingRowStyles" value="false" />
         <property name="items">
            <list>
                <bean parent="Uif-InputField" p:propertyName="isChecked" p:required="false" p:onChangeScript="someScrtip">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl" p:disabled="false"/>
                    </property>
                </bean>
                <bean parent="KS-Uif-DataField-Simple"
                    p:label="Code"
                    p:propertyName="timeSlotInfo.name"/>
                <bean parent="KS-Uif-DataField-Simple"
                    p:label="Term Type"
                    p:propertyName="timeSlotInfo.typeKey"/>
                <bean parent="KS-Uif-DataField-Simple"
                    p:label="Days"
                    p:propertyName="daysPattern"/>
                <bean parent="KS-Uif-DataField-Simple"
                    p:label="Start Time"
                    p:propertyName="timeSlotInfo.typeKey"/>
                <bean parent="KS-Uif-DataField-Simple"
                    p:label="End Time"
                    p:propertyName="timeSlotInfo.typeKey"/>
                <bean parent="KS-Uif-DataField-Simple"
                    p:label="End Time"
                    p:propertyName="timeSlotInfo.typeKey"/>
            </list>
        </property>

        <property name="layoutManager.actionFieldPrototype">
            <bean parent="Uif-HorizontalFieldGroup" p:align="left" p:required="false" p:label="Actions"/>
        </property>
        <property name="lineActions">
            <list>
                <bean parent="Uif-NavigationActionLink"
                    p:methodToCall="edit"
                    p:actionLabel="Edit"
                    p:actionEvent="editCOonManageCOsPage">
                </bean>
            </list>
        </property>
    </bean>

    <!--
        Toolbar buttons
    -->
    <bean id="TimeSlot-ToolBar-Add-Button-parent" parent="KS-Uif-ToolBar-Button">
        <property name="actionLabel" value="Add Time Slot"/>
        <property name="actionImage">
            <bean parent="Uif-Image" p:source="@{#parent.disabled ? #ConfigProperties['ks.externalizable.images.url']+'/toolbar/add_disabled.png' : #ConfigProperties['ks.externalizable.images.url']+'/toolbar/add_enabled.png'}"/>
        </property>
    </bean>

    <bean id="TimeSlot-ToolBar-Delete-Button-parent" parent="KS-Uif-ToolBar-Button">
        <property name="actionLabel" value="Delete"/>
        <property name="actionImage">
            <bean parent="Uif-Image" p:source="@{#parent.disabled ? #ConfigProperties['ks.externalizable.images.url']+'/toolbar/delete_disabled.png' : #ConfigProperties['ks.externalizable.images.url']+'/toolbar/delete_enabled.png'}"/>
        </property>
    </bean>

</beans>